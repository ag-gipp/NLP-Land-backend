{"version":3,"file":"setup.js","sourceRoot":"","sources":["setup.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kCAAwC;AAExC,wCAA4C;AAK5C,SAAsB,KAAK;;;;;wBAIT,qBAAM,IAAA,oBAAW,EAAC,QAAQ,EAAE,YAAY,CAAC,EAAA;;oBAAnD,OAAO,GAAG,SAAyC;oBACzD,IAAI,WAAG,EAAE;wBACP,sBAAO,EAAE,GAAG,aAAA,EAAE,OAAO,SAAA,EAAE,EAAC;qBACzB;oBAEK,qBAAM,IAAA,gBAAU,EAAC,OAAO,CAAC,EAAA;;oBAA/B,WAAG,GAAG,SAAyB,CAAC;oBAChC,sBAAO,EAAE,GAAG,aAAA,EAAE,OAAO,SAAA,EAAE,EAAC;;;;CACzB;AAXD,sBAWC","sourcesContent":["import { initServer } from '../src/app';\nimport { APIServer } from '../src/app/apiserver';\nimport { loadOptions } from '../src/config';\nimport { APIOptions } from '../src/config/interfaces';\n\nexport let app: APIServer;\n\nexport async function setup(): Promise<{\n  app: APIServer;\n  options: APIOptions;\n}> {\n  const options = await loadOptions('./test', 'options.js');\n  if (app) {\n    return { app, options };\n  }\n\n  app = await initServer(options);\n  return { app, options };\n}\n"]}